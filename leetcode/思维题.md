### è¾ƒç®€å•

[13. ç½—é©¬æ•°å­—è½¬æ•´æ•°](#13-ç½—é©¬æ•°å­—è½¬æ•´æ•°)

### å¾ˆå·§å¦™

[31. ä¸‹ä¸€ä¸ªæ’åˆ—](./æ€ç»´é¢˜.md/#31-ä¸‹ä¸€ä¸ªæ’åˆ—)

[738. å•è°ƒé€’å¢çš„æ•°å­—](#738-å•è°ƒé€’å¢çš„æ•°å­—)

[169. å¤šæ•°å…ƒç´ ](#169-å¤šæ•°å…ƒç´ ) æ‘©å°”æŠ•ç¥¨æ³•

[229. æ±‚ä¼—æ•°II](#229-æ±‚ä¼—æ•°II)



### [13. ç½—é©¬æ•°å­—è½¬æ•´æ•°](https://leetcode-cn.com/problems/roman-to-integer/)

Difficulty: **ç®€å•**


ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦: `I`ï¼Œ `V`ï¼Œ `X`ï¼Œ `L`ï¼Œ`C`ï¼Œ`D` å’Œ `M`ã€‚

```
å­—ç¬¦          æ•°å€¼
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
```

ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åš `II` ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åš `XII` ï¼Œå³ä¸º `X` + `II` ã€‚ 27 å†™åš  `XXVII`, å³ä¸º `XX` + `V` + `II` ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš `IIII`ï¼Œè€Œæ˜¯ `IV`ã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º `IX`ã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š

*   `I` å¯ä»¥æ”¾åœ¨ `V` (5) å’Œ `X` (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
*   `X` å¯ä»¥æ”¾åœ¨ `L` (50) å’Œ `C` (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚ 
*   `C` å¯ä»¥æ”¾åœ¨ `D` (500) å’Œ `M` (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚

ç»™å®šä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°ã€‚è¾“å…¥ç¡®ä¿åœ¨ 1 åˆ° 3999 çš„èŒƒå›´å†…ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: "III"
è¾“å‡º: 3
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: "IV"
è¾“å‡º: 4
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: "IX"
è¾“å‡º: 9
```

**ç¤ºä¾‹ 4:**

```
è¾“å…¥: "LVIII"
è¾“å‡º: 58
è§£é‡Š: L = 50, V= 5, III = 3.
```

**ç¤ºä¾‹ 5:**

```
è¾“å…¥: "MCMXCIV"
è¾“å‡º: 1994
è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.
```

**æç¤ºï¼š**

*   `1 <= s.length <= 15`
*   `s` ä»…å«å­—ç¬¦ `('I', 'V', 'X', 'L', 'C', 'D', 'M')`
*   é¢˜ç›®æ•°æ®ä¿è¯ `s` æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç½—é©¬æ•°å­—ï¼Œä¸”è¡¨ç¤ºæ•´æ•°åœ¨èŒƒå›´ `[1, 3999]` å†…
*   é¢˜ç›®æ‰€ç»™æµ‹è¯•ç”¨ä¾‹çš†ç¬¦åˆç½—é©¬æ•°å­—ä¹¦å†™è§„åˆ™ï¼Œä¸ä¼šå‡ºç°è·¨ä½ç­‰æƒ…å†µã€‚
*   IL å’Œ IM è¿™æ ·çš„ä¾‹å­å¹¶ä¸ç¬¦åˆé¢˜ç›®è¦æ±‚ï¼Œ49 åº”è¯¥å†™ä½œ XLIXï¼Œ999 åº”è¯¥å†™ä½œ CMXCIX ã€‚
*   å…³äºç½—é©¬æ•°å­—çš„è¯¦å°½ä¹¦å†™è§„åˆ™ï¼Œå¯ä»¥å‚è€ƒ ã€‚

**æ€è·¯ï¼šæŠŠä¸€ä¸ªå°å€¼æ”¾åœ¨å¤§å€¼çš„å·¦è¾¹ï¼Œå°±æ˜¯åšå‡æ³•ï¼Œå¦åˆ™ä¸ºåŠ æ³•ã€‚**

```java
private static final Map<Character, Integer> ROMAN_TO_INTEGER_MAP = new HashMap<>(7);

static {
    ROMAN_TO_INTEGER_MAP.put('I', 1);
    ROMAN_TO_INTEGER_MAP.put('V', 5);
    ROMAN_TO_INTEGER_MAP.put('X', 10);
    ROMAN_TO_INTEGER_MAP.put('L', 50);
    ROMAN_TO_INTEGER_MAP.put('C', 100);
    ROMAN_TO_INTEGER_MAP.put('D', 500);
    ROMAN_TO_INTEGER_MAP.put('M', 1000);
}

public int romanToInt(String s) {
    int ret = 0;
    for (int i = 0; i < s.length() - 1; i++) {
        int num = ROMAN_TO_INTEGER_MAP.get(s.charAt(i));
        int nextNum = ROMAN_TO_INTEGER_MAP.get(s.charAt(i + 1));
        if (num < nextNum) {
            ret -= num;
        } else {
            ret += num;
        }
    }
    ret += ROMAN_TO_INTEGER_MAP.get(s.charAt(s.length() - 1));
    return ret;
}
```

### [12. æ•´æ•°è½¬ç½—é©¬æ•°å­—](https://leetcode-cn.com/problems/integer-to-roman/)

Difficulty: **ä¸­ç­‰**


ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦ï¼š `I`ï¼Œ `V`ï¼Œ `X`ï¼Œ `L`ï¼Œ`C`ï¼Œ`D` å’Œ `M`ã€‚

```
å­—ç¬¦          æ•°å€¼
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
```

ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åš `II` ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åš `XII` ï¼Œå³ä¸º `X` + `II` ã€‚ 27 å†™åš  `XXVII`, å³ä¸º `XX` + `V` + `II` ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš `IIII`ï¼Œè€Œæ˜¯ `IV`ã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º `IX`ã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š

*   `I` å¯ä»¥æ”¾åœ¨ `V` (5) å’Œ `X` (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
*   `X` å¯ä»¥æ”¾åœ¨ `L` (50) å’Œ `C` (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚ 
*   `C` å¯ä»¥æ”¾åœ¨ `D` (500) å’Œ `M` (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚

ç»™å®šä¸€ä¸ªæ•´æ•°ï¼Œå°†å…¶è½¬ä¸ºç½—é©¬æ•°å­—ã€‚è¾“å…¥ç¡®ä¿åœ¨ 1 åˆ° 3999 çš„èŒƒå›´å†…ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: 3
è¾“å‡º: "III"
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: 4
è¾“å‡º: "IV"
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: 9
è¾“å‡º: "IX"
```

**ç¤ºä¾‹ 4:**

```
è¾“å…¥: 58
è¾“å‡º: "LVIII"
è§£é‡Š: L = 50, V = 5, III = 3.
```

**ç¤ºä¾‹ 5:**

```
è¾“å…¥: 1994
è¾“å‡º: "MCMXCIV"
è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.
```

**æç¤ºï¼š**

*   `1 <= num <= 3999`

**æ€è·¯ï¼šä»å°åˆ°è¾¾ç›´æ¥éå†å³å¯ã€‚** æˆ‘ä¸€å¼€å§‹è¿˜æƒ³ç€å»ºä¸€ä¸ªæ•°ç»„ä»1000åˆ°æœ€å°ï¼Œç„¶åæŒ¨ä¸ªé™¤ä¸€ä¸‹ï¼Œæ ¹æ®ä¸åŒçš„æƒ…å†µåˆ¤æ–­åº”è¯¥æ€ä¹ˆå–å€¼ã€‚å¤ªè ¢äº†ï¼Œç›´æ¥æŠŠæ‰€æœ‰æƒ…å†µä»å¤§åˆ°å°åˆ—å‡ºæ¥ä¸å°±è¡Œäº†ä¹ˆã€‚

```java
public String intToRoman(int num) {
    // æŠŠé˜¿æ‹‰ä¼¯æ•°å­—ä¸ç½—é©¬æ•°å­—å¯èƒ½å‡ºç°çš„æ‰€æœ‰æƒ…å†µå’Œå¯¹åº”å…³ç³»ï¼Œæ”¾åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­ï¼Œå¹¶ä¸”æŒ‰ç…§é˜¿æ‹‰ä¼¯æ•°å­—çš„å¤§å°é™åºæ’åˆ—
    final int[] nums = {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1};
    final String[] romans = {"M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"};

    StringBuilder sb = new StringBuilder();
    for (int i = 0; i < nums.length; i++) {
        while (num >= nums[i]) {
            sb.append(romans[i]);
            num -= nums[i];
        }
    }
    return sb.toString();
}
```

è¿˜å¯ä»¥ç¡¬ç¼–ç ï¼š

```java
public String intToRoman(int num) {
    String[] thousands = {"", "M", "MM", "MMM"};
    String[] hundreds = {"", "C", "CC", "CCC", "CD", "D", "DC", "DCC", "DCCC", "CM"}; 
    String[] tens = {"", "X", "XX", "XXX", "XL", "L", "LX", "LXX", "LXXX", "XC"};
    String[] ones = {"", "I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX"};
    
    return thousands[num / 1000] + hundreds[num % 1000 / 100] + tens[num % 100 / 10] + ones[num % 10];
}

ä½œè€…ï¼šLeetCode
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/integer-to-roman/solution/zheng-shu-zhuan-luo-ma-shu-zi-by-leetcode/
```

ğŸ˜‚ä¸è¦åšé¢˜åšå¤šäº†å°±æ€ç»´è¢«é™åˆ¶ä½ï¼Œæœ‰æ—¶å€™åè€Œä»æ¥æ²¡åšè¿‡ç®—æ³•é¢˜çš„äººç¬¬ä¸€ç›´è§‰å°±ä¼šæƒ³åˆ°è¿™æ ·çš„æ€è·¯ï¼Œå¾ˆç®€å•ä¹Ÿå¾ˆå¿«ã€‚



## å¾ˆå·§å¦™

### [31. ä¸‹ä¸€ä¸ªæ’åˆ—](https://leetcode-cn.com/problems/next-permutation/)

Difficulty: **ä¸­ç­‰**


å®ç°è·å– **ä¸‹ä¸€ä¸ªæ’åˆ—** çš„å‡½æ•°ï¼Œç®—æ³•éœ€è¦å°†ç»™å®šæ•°å­—åºåˆ—é‡æ–°æ’åˆ—æˆå­—å…¸åºä¸­ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ã€‚

å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåˆ™å°†æ•°å­—é‡æ–°æ’åˆ—æˆæœ€å°çš„æ’åˆ—ï¼ˆå³å‡åºæ’åˆ—ï¼‰ã€‚

å¿…é¡»ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[1,3,2]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [3,2,1]
è¾“å‡ºï¼š[1,2,3]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,5]
è¾“å‡ºï¼š[1,5,1]
```

**ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šnums = [1]
è¾“å‡ºï¼š[1]
```

**æç¤ºï¼š**

*   `1 <= nums.length <= 100`
*   `0 <= nums[i] <= 100`

**æ€è·¯ï¼šæ¨¡æ‹Ÿæ‰¾æ’åˆ—çš„è¿‡ç¨‹ï¼Œæ‰¾å‡ºè§„å¾‹ã€‚**

ä»åå¾€å‰ç¬¬ä¸€ä¸ªéé€’å¢çš„å°±æ˜¯è¦æ¢åˆ°åé¢å»çš„ï¼Œåé¢æ¯”å®ƒå¤§çš„æœ€å°æ•°å°±æ˜¯è¦æ¢åˆ°å®ƒè¿™ä¸ªä½ç½®ä¸Šçš„ã€‚ç„¶åè¿™ä¸ªä½ç½®åé¢çš„æ‰€æœ‰æ•°ä»å°åˆ°å¤§æ’åˆ—å³å¯ï¼Œä¹Ÿå°±æ˜¯ç¿»è½¬ä¸€ä¸‹ã€‚

éªŒè¯ä¸€ä¸‹ç‰¹æ®Šæƒ…å†µï¼Œå½“æ•°ç»„ä¸ºé€’å‡æ•°ç»„çš„æ—¶å€™ï¼Œä¸‹ä¸€ä¸ªæ’åˆ—å°±æ˜¯å…¨åè¿‡æ¥çš„é€’å¢æ•°ç»„ï¼Œå³ç¬¬ä¸€ä¸ªæ’åˆ—çš„çŠ¶æ€ã€‚

```java
	public void nextPermutation(int[] nums) {
        int i = nums.length - 1;
        while (i > 0 && nums[i - 1] >= nums[i]) {
            i--;
        }
        i--;
        int j = nums.length - 1;
        if (i >= 0) {
            while (j > 0 && nums[i] >= nums[j]) {
                j--;
            }
            swap(nums, i, j);
        }
        reverse(nums, i + 1);
    }

    private void swap(int[] nums, int i, int j) {
        int tmp = nums[i];
        nums[i] = nums[j];
        nums[j] = tmp;
    }

    private void reverse(int[] nums, int left) {
        int right = nums.length - 1;
        while (left < right) {
            swap(nums, left++, right--);
        }
    }
```



### [738. å•è°ƒé€’å¢çš„æ•°å­—](https://leetcode-cn.com/problems/monotone-increasing-digits/)

Difficulty: **ä¸­ç­‰**


ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° `N`ï¼Œæ‰¾å‡ºå°äºæˆ–ç­‰äº `N` çš„æœ€å¤§çš„æ•´æ•°ï¼ŒåŒæ—¶è¿™ä¸ªæ•´æ•°éœ€è¦æ»¡è¶³å…¶å„ä¸ªä½æ•°ä¸Šçš„æ•°å­—æ˜¯å•è°ƒé€’å¢ã€‚

ï¼ˆå½“ä¸”ä»…å½“æ¯ä¸ªç›¸é‚»ä½æ•°ä¸Šçš„æ•°å­— `x` å’Œ `y` æ»¡è¶³ `x <= y` æ—¶ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªæ•´æ•°æ˜¯å•è°ƒé€’å¢çš„ã€‚ï¼‰

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: N = 10
è¾“å‡º: 9
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: N = 1234
è¾“å‡º: 1234
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: N = 332
è¾“å‡º: 299
```

**è¯´æ˜:** `N` æ˜¯åœ¨ `[0, 10^9]` èŒƒå›´å†…çš„ä¸€ä¸ªæ•´æ•°ã€‚

**æ€è·¯ï¼šè´ªå¿ƒæ³•ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªé”™ä½çš„ï¼ŒæŠŠé”™ä½å‰é¢-1ï¼Œç„¶ååé¢å…¨å˜æˆ9ã€‚**

é¦–å…ˆå¦‚æœä»é«˜ä½åˆ°ä½ä½æ˜¯é€’å¢çš„ï¼Œé‚£å°±æ˜¯è¿™ä¸ªæ•°æœ¬èº«ï¼Œå¦‚ç¤ºä¾‹2ã€‚åªæœ‰å‡ºç°äº†éé€’å¢ï¼Œæ‰éœ€è¦ä¿®æ”¹ã€‚ç¤ºä¾‹1ä¸­N=10ï¼Œç¬¬ä¸€ä¸ªéé€’å¢å°±æ˜¯1æ¯”0å¤§ï¼Œ1-1ï¼Œ0å˜æˆ9ï¼Œå¾—åˆ°æœ€å¤§ç»“æœã€‚å†çœ‹ç¤ºä¾‹3è¿™ç§æƒ…å†µï¼Œç¬¬ä¸€ä¸ªéé€’å¢æ˜¯32ï¼Œå¦‚æœæŠŠ3-1ï¼Œ2æ¢æˆ9ï¼Œå˜æˆäº†329ï¼Œè¿˜æ˜¯éé€’å¢ï¼Œå› æ­¤åº”è¯¥æŠŠç¬¬ä¸€ä¸ª3-1ï¼Œè¿™æ—¶å€™å°±èƒ½ä¿è¯é€’å¢ã€‚å› ä¸º3-1æ˜¯2ï¼Œ32æ˜¯ç¬¬ä¸€ä¸ªéé€’å¢çš„ï¼Œå› æ­¤3å‰é¢ä¸€å®šæ˜¯é€’å¢åºåˆ—ï¼Œæ¯”å¦‚12332ï¼Œ1332è¿™äº›æƒ…å†µï¼ŒæŠŠç¬¬ä¸€ä¸ª3-1ï¼Œç„¶ååé¢çš„æ‰€æœ‰å€¼éƒ½å˜æˆ9ï¼Œå°±å¾—åˆ°äº†ç»“æœã€‚æ¯”å¦‚12332åº”è¯¥å˜æˆ11999ï¼Œ1332åº”è¯¥å˜æˆ1299ï¼Œ332åº”è¯¥å˜æˆ299ã€‚

```java
public int monotoneIncreasingDigits(int N) {
    char[] arr = (N + "").toCharArray();
    int max = -1, idx = -1;
    for (int i = 0; i < arr.length - 1; i++) {
        if (max < arr[i]) {
            max = arr[i];
            idx = i;
        }
        if (arr[i] > arr[i + 1]) {
            arr[idx] -= 1;
            for (int j = idx + 1; j < arr.length; j++) {
                arr[j] = '9';
            }
            break;
        }
    }
    return Integer.parseInt(new String(arr));
}
```



### [169. å¤šæ•°å…ƒç´ ](https://leetcode-cn.com/problems/majority-element/)

Difficulty: **ç®€å•**

**è¿›é˜¶é¢˜ï¼š[229. æ±‚ä¼—æ•° II](#229-æ±‚ä¼—æ•°II)**


ç»™å®šä¸€ä¸ªå¤§å°ä¸º _n_ çš„æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­çš„å¤šæ•°å…ƒç´ ã€‚å¤šæ•°å…ƒç´ æ˜¯æŒ‡åœ¨æ•°ç»„ä¸­å‡ºç°æ¬¡æ•° **å¤§äº** `âŒŠ n/2 âŒ‹` çš„å…ƒç´ ã€‚

ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š[3,2,3]
è¾“å‡ºï¼š3
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š[2,2,1,1,1,2,2]
è¾“å‡ºï¼š2
```

**è¿›é˜¶ï¼š**

*   å°è¯•è®¾è®¡æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€ç©ºé—´å¤æ‚åº¦ä¸º O(1) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

**æ€è·¯ï¼šæ‘©å°”æŠ•ç¥¨æ³•ã€‚**å› ä¸ºè¶…è¿‡åŠæ•°ï¼Œæœ€ç»ˆä¸€å®šèƒ½æŠŠå®ƒæŠ•ä¸Šå»ã€‚

```java
public int majorityElement(int[] nums) {
    if (nums.length == 0) return -1;
    int res = nums[0];
    int count = 1;
    for (int i = 1; i < nums.length; i++) {
        if (nums[i] == res) {
            count++;
        } else {
            count--;
            if (count == 0) {
                res = nums[i];
                count = 1;
            }
        }
    }
    return res;
}
```

è¿˜å¯ä»¥ä½¿ç”¨ä½è¿ç®—æ–¹æ³•ï¼Œè¿™ä¸€ä½0è¶…è¿‡åŠæ•°ï¼Œè¦æ‰¾çš„æ•°çš„è¿™ä¸€ä½å°±æ˜¯0ï¼Œåä¹‹è¿™ä¸€ä½å°±æ˜¯1ã€‚

### [229. æ±‚ä¼—æ•°II](https://leetcode-cn.com/problems/majority-element-ii/)

Difficulty: **ä¸­ç­‰**


ç»™å®šä¸€ä¸ªå¤§å°ä¸º _n _çš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºå…¶ä¸­æ‰€æœ‰å‡ºç°è¶…è¿‡ `âŒŠ n/3 âŒ‹` æ¬¡çš„å…ƒç´ ã€‚

**è¿›é˜¶ï¼š**å°è¯•è®¾è®¡æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€ç©ºé—´å¤æ‚åº¦ä¸º O(1)çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š[3,2,3]
è¾“å‡ºï¼š[3]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [1]
è¾“å‡ºï¼š[1]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼š[1,1,1,3,3,2,2,2]
è¾“å‡ºï¼š[1,2]
```

**æç¤ºï¼š**

*   1 <= nums.length <= 5 * 10<sup>4</sup>
*   -10<sup>9</sup> <= nums[i] <= 10<sup>9</sup>

**æ€è·¯ï¼šæ‘©å°”æŠ•ç¥¨æ³•å‡çº§ç‰ˆã€‚åªéœ€è¦åšåˆ°ï¼šå¤§äº1/3ï¼Œä¸€å®šèƒ½è¢«æŠ•å‡ºæ¥ã€‚**æœ€åå¾—éå†æ£€æŸ¥æ˜¯ä¸æ˜¯çœŸçš„å¤§äº1/3ã€‚

æˆ‘è‡ªå·±æƒ³å‡ºæ¥çš„ï¼šç¬¬ä¸€éç”¨+2æŸ¥è¯¢ï¼Œæ‰¾åˆ°å€™é€‰äºº1ã€‚å†éå†ä¸€éç”¨+1æŸ¥è¯¢ï¼Œå¹¶ä¸”è·³è¿‡å€™é€‰äºº1ï¼Œæ‰¾åˆ°å€™é€‰äºº2ã€‚ç„¶åå†æ£€æŸ¥è¿™ä¸¤ä¸ªäººæ˜¯ä¸æ˜¯è¶…è¿‡1/3ã€‚

```java
public List<Integer> majorityElement(int[] nums) {
    List<Integer> list = new ArrayList<>();
    if (nums.length == 0) {
        return list;
    }
    int candidate1 = nums[0];
    int count = 0;
    for (int num : nums) {
        if (count == 0) {
            candidate1 = num;
        }
        count += candidate1 == num ? 2 : -1;
    }
    count = 0;
    int candidate2 = nums[0];
    for (int num : nums) {
        if (num == candidate1) {
            continue;
        }
        if (count == 0) {
            candidate2 = num;
        }
        if (num == candidate2) {
            count += 1;
        } else {
            count--;
        }
    }
    int cnt1 = 0;
    int cnt2 = 0;
    for (int num : nums) {
        if (num == candidate1) {
            cnt1++;
        } else if (num == candidate2) {
            cnt2++;
        }
    }
    if (cnt1 > nums.length / 3) {
        list.add(candidate1);
    }
    if (cnt2 > nums.length / 3 && candidate2 != candidate1) {
        list.add(candidate2);
    }
    return list;
}
```

**ç­”æ¡ˆåŒºæ›´ç®€å•çš„ï¼š+1ï¼Œç­‰äºå€™é€‰äºº1ï¼Œå°±è·³è¿‡å€™é€‰äºº2ã€‚**

```java
public List<Integer> majorityElement(int[] nums) {
    List<Integer> res = new ArrayList<>();
    if (nums == null || nums.length == 0)
        return res;
    //åˆå§‹åŒ–ï¼šå®šä¹‰ä¸¤ä¸ªå€™é€‰äººåŠå…¶å¯¹åº”çš„ç¥¨æ•°
    int candidateA = nums[0];
    int candidateB = nums[0];
    int countA = 0;
    int countB = 0;
    //éå†æ•°ç»„
    for (int num : nums) {
        if (num == candidateA) {
            countA++;//æŠ•A
            continue;
        }
        if (num == candidateB) {
            countB++;//æŠ•B
            continue;
        }

        //æ­¤æ—¶å½“å‰å€¼å’ŒABéƒ½ä¸ç­‰ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ç¥¨æ•°å‡ä¸º0çš„æƒ…å†µï¼Œå¦‚æœä¸º0ï¼Œåˆ™æ›´æ–°å€™é€‰äºº
        if (countA == 0) {
            candidateA = num;
            countA++;
            continue;
        }
        if (countB == 0) {
            candidateB = num;
            countB++;
            continue;
        }
        //è‹¥æ­¤æ—¶ä¸¤ä¸ªå€™é€‰äººçš„ç¥¨æ•°éƒ½ä¸ä¸º0ï¼Œä¸”å½“å‰å…ƒç´ ä¸æŠ•ABï¼Œé‚£ä¹ˆA,Bå¯¹åº”çš„ç¥¨æ•°éƒ½è¦--;
        countA--;
        countB--;
    }

    //ä¸Šä¸€è½®éå†æ‰¾å‡ºäº†ä¸¤ä¸ªå€™é€‰äººï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªå€™é€‰äººæ˜¯å¦å‡æ»¡è¶³ç¥¨æ•°å¤§äºN/3ä»ç„¶æ²¡æ³•ç¡®å®šï¼Œéœ€è¦é‡æ–°éå†ï¼Œç¡®å®šç¥¨æ•°
    countA = 0;
    countB = 0;
    for (int num : nums) {
        if (num == candidateA) {
            countA++;
        } else if (num == candidateB) {
            countB++;
        }
    }
    if (countA > nums.length / 3) {
        res.add(candidateA);
    }
    if (countB > nums.length / 3) {
        res.add(candidateB);
    }
    return res;
}

ä½œè€…ï¼špingpongbaoche
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/majority-element-ii/solution/duo-shu-tou-piao-de-sheng-ji-ban-hao-li-jie-java-b/
```

